package cn.edu.buaa.act.sdp.malwaredetector.util;

import android.content.Context;
import android.content.pm.PackageInfo;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by yao on 2014/11/5.
 * applicatin manager
 */
public class ApplicationManager {
    /**
     * get all installed applications
     * @param context
     * @return installed applications list
     */
    public static List<PackageInfo> getAllInstalledApps(Context context) {
        List<PackageInfo> apps = context.getPackageManager().getInstalledPackages(0);
        List<PackageInfo> list = new ArrayList<PackageInfo>();
        for(PackageInfo pack : apps) {
            if((pack.applicationInfo.flags & pack.applicationInfo.FLAG_SYSTEM) <= 0) {
                list.add(pack);
            }
        }
        return list;
    }
}
